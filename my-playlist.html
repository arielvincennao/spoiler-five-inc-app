<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Playlist - Spoiler Five</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <i class="fas fa-music"></i>
            Spoiler Five Inc.
        </div>
        
        <div class="search-section">
            <button class="home-btn" id="homeBtn" title="Inicio">
                <i class="fas fa-home"></i>
            </button>
            
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="searchInput" class="search-bar" placeholder="¿Qué vas a escuchar hoy?">
            </div>
        </div>
        
        <div class="header-actions">
            <button class="hamburger-btn" id="hamburgerBtn">
                <i class="fas fa-book"></i>
            </button>
            <button class="notification-btn" id="notificationBtn">
                <i class="fas fa-bell"></i>
            </button>
            <button class="user-btn" id="userBtn">
                <i class="fas fa-user"></i>
            </button>
        </div>
    </header>

    <!-- Panel Lateral -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Mi Biblioteca</h3>
            <button class="close-sidebar-btn" id="closeSidebarBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="sidebar-content">
            <!-- Búsqueda en Biblioteca -->
            <div class="library-search">
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="librarySearchInput" class="library-search-bar" placeholder="Buscar en tu biblioteca">
                </div>
            </div>

            <!-- Filtros de Biblioteca -->
            <div class="library-filters">
                <div class="filter-group">
                    <label class="filter-label">Tipo:</label>
                    <select class="library-filter-select" id="libraryTypeFilter">
                        <option value="all">Todos</option>
                        <option value="playlists">Playlists</option>
                        <option value="albums">Albums</option>
                        <option value="podcasts">Podcasts</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Ordenar:</label>
                    <select class="library-filter-select" id="librarySortFilter">
                        <option value="recent">Recientes</option>
                        <option value="alphabetical">A-Z</option>
                        <option value="artist">Por artista</option>
                        <option value="date">Por fecha</option>
                    </select>
                </div>
            </div>

            <!-- Lista de Contenido -->
            <div class="sidebar-section">
                <button class="create-playlist-btn">
                    <i class="fas fa-plus"></i>
                    Crear playlist
                </button>
                <div class="sidebar-list">
                    <!-- Playlists -->
                    <div class="sidebar-item pinned-item" data-type="playlist" onclick="window.location.href='favorites.html'">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">
                                <span class="pinned-indicator">
                                    <i class="fas fa-thumbtack"></i>
                                </span>
                                Canciones que te gustan
                            </span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 12 canciones</span>
                        </div>
                        <div class="sidebar-item-badge playlist-badge">Playlist</div>
                        <button class="sidebar-play-btn" onclick="event.stopPropagation(); window.location.href='favorites.html'">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                    
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-dumbbell"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Hora de Gym</span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 5 canciones</span>
                        </div>
                        <div class="sidebar-item-badge playlist-badge">Playlist</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                    
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Rock Clásico</span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 12 canciones</span>
                        </div>
                        <div class="sidebar-item-badge playlist-badge">Playlist</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                    
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Energía Total</span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 8 canciones</span>
                        </div>
                        <div class="sidebar-item-badge playlist-badge">Playlist</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>

                    <!-- Álbumes -->
                    <div class="sidebar-item" data-type="album">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-compact-disc"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">The Razors Edge</span>
                            <span class="sidebar-item-subtitle">AC/DC • 12 canciones</span>
                        </div>
                        <div class="sidebar-item-badge album-badge">Album</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                    
                    <div class="sidebar-item" data-type="album">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-compact-disc"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">The Wall</span>
                            <span class="sidebar-item-subtitle">Pink Floyd • 26 canciones</span>
                        </div>
                        <div class="sidebar-item-badge album-badge">Album</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>

                    <!-- Podcasts -->
                    <div class="sidebar-item" data-type="podcast">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-microphone"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Música y Más</span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 15 canciones</span>
                        </div>
                        <div class="sidebar-item-badge podcast-badge">Podcast</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                    
                    <div class="sidebar-item" data-type="podcast">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-microphone"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Rock Clásico Podcast</span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 8 canciones</span>
                        </div>
                        <div class="sidebar-item-badge podcast-badge">Podcast</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>

                    <!-- Más Playlists -->
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-moon"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Relajación Nocturna</span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 15 canciones</span>
                        </div>
                        <div class="sidebar-item-badge playlist-badge">Playlist</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                    
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Viaje en Carretera</span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 22 canciones</span>
                        </div>
                        <div class="sidebar-item-badge playlist-badge">Playlist</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                    
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Éxitos de los 80s</span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 18 canciones</span>
                        </div>
                        <div class="sidebar-item-badge playlist-badge">Playlist</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>

                    <!-- Más Álbumes -->
                    <div class="sidebar-item" data-type="album">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-compact-disc"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Dark Side of the Moon</span>
                            <span class="sidebar-item-subtitle">Pink Floyd • 9 canciones</span>
                        </div>
                        <div class="sidebar-item-badge album-badge">Album</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                    
                    <div class="sidebar-item" data-type="album">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-compact-disc"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Back in Black</span>
                            <span class="sidebar-item-subtitle">AC/DC • 10 canciones</span>
                        </div>
                        <div class="sidebar-item-badge album-badge">Album</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                    
                    <div class="sidebar-item" data-type="album">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-compact-disc"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Led Zeppelin IV</span>
                            <span class="sidebar-item-subtitle">Led Zeppelin • 8 canciones</span>
                        </div>
                        <div class="sidebar-item-badge album-badge">Album</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>

                    <!-- Más Podcasts -->
                    <div class="sidebar-item" data-type="podcast">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-microphone"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Historia del Rock</span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 12 canciones</span>
                        </div>
                        <div class="sidebar-item-badge podcast-badge">Podcast</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                    
                    <div class="sidebar-item" data-type="podcast">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-microphone"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Música Indie</span>
                            <span class="sidebar-item-subtitle">Ariel Vincennao • 6 canciones</span>
                        </div>
                        <div class="sidebar-item-badge podcast-badge">Podcast</div>
                        <button class="sidebar-play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay para cerrar el panel -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Panel de Notificaciones -->
    <div class="notifications-panel" id="notificationsPanel">
        <div class="notifications-header">
            <h3>Notificaciones</h3>
            <button class="close-notifications-btn" id="closeNotificationsBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="notifications-content">
            <div class="notification-item">
                <div class="notification-icon">
                    <i class="fas fa-music"></i>
                </div>
                <div class="notification-info">
                    <h4 class="notification-title">Nueva canción disponible</h4>
                    <p class="notification-text">"Thunderstruck" de AC/DC ya está disponible en tu biblioteca</p>
                    <span class="notification-time">Hace 2 horas</span>
                </div>
            </div>

            <div class="notification-item">
                <div class="notification-icon">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="notification-info">
                    <h4 class="notification-title">Playlist actualizada</h4>
                    <p class="notification-text">Tu playlist "Mi Playlist Personal" se ha actualizado con 2 nuevas canciones</p>
                    <span class="notification-time">Hace 5 horas</span>
                </div>
            </div>

            <div class="notification-item">
                <div class="notification-icon">
                    <i class="fas fa-user"></i>
                </div>
                <div class="notification-info">
                    <h4 class="notification-title">Artista seguido</h4>
                    <p class="notification-text">Pink Floyd ha lanzado un nuevo álbum: "The Wall (Remastered)"</p>
                    <span class="notification-time">Ayer</span>
                </div>
            </div>

            <div class="notification-item">
                <div class="notification-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="notification-info">
                    <h4 class="notification-title">Recomendación personalizada</h4>
                    <p class="notification-text">Basado en tu historial, te recomendamos "Bohemian Rhapsody"</p>
                    <span class="notification-time">Hace 1 día</span>
                </div>
            </div>

            <div class="notification-item">
                <div class="notification-icon">
                    <i class="fas fa-download"></i>
                </div>
                <div class="notification-info">
                    <h4 class="notification-title">Descarga completada</h4>
                    <p class="notification-text">"Stairway to Heaven" se ha descargado correctamente</p>
                    <span class="notification-time">Hace 2 días</span>
                </div>
            </div>
        </div>

        <div class="notifications-footer">
            <button class="view-all-btn">
                <i class="fas fa-list"></i>
                Ver todas las notificaciones
            </button>
        </div>
    </div>

    <!-- Overlay para cerrar notificaciones -->
    <div class="notifications-overlay" id="notificationsOverlay"></div>

    <!-- Panel de Ajustes de Usuario -->
    <div class="user-settings-panel" id="userSettingsPanel">
        <div class="user-settings-header">
            <div class="user-profile">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-info">
                    <h3>Ariel Vincennao</h3>
                    <p>Plan Premium</p>
                </div>
            </div>
            <button class="close-settings-btn" id="closeSettingsBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="user-settings-content">
            <!-- Cuenta -->
            <div class="settings-section">
                <h4 class="settings-section-title">
                    <i class="fas fa-user"></i>
                    Cuenta
                </h4>
                <div class="settings-list">
                    <div class="settings-item">
                        <i class="fas fa-user-edit"></i>
                        <span>Perfil</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item" onclick="window.location.href='help.html'">
                        <i class="fas fa-question-circle"></i>
                        <span>Ayuda</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-cog"></i>
                        <span>Configuración</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-palette"></i>
                        <span>Apariencia</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>

            <!-- Suscripción -->
            <div class="settings-section">
                <h4 class="settings-section-title">
                    <i class="fas fa-crown"></i>
                    Suscripción
                </h4>
                <div class="settings-list">
                    <div class="settings-item" onclick="window.location.href='plans.html'">
                        <i class="fas fa-star"></i>
                        <span>Plan</span>
                        <span class="settings-value">Premium</span>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-credit-card"></i>
                        <span>Método de pago</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-receipt"></i>
                        <span>Facturación</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>

            <!-- Privacidad -->
            <div class="settings-section">
                <h4 class="settings-section-title">
                    <i class="fas fa-shield-alt"></i>
                    Privacidad
                </h4>
                <div class="settings-list">
                    <div class="settings-item">
                        <i class="fas fa-lock"></i>
                        <span>Privacidad</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-eye"></i>
                        <span>Actividad</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>

            <!-- Soporte -->
            <div class="settings-section">
                <h4 class="settings-section-title">
                    <i class="fas fa-question-circle"></i>
                    Soporte
                </h4>
                <div class="settings-list">
                    <div class="settings-item" onclick="window.location.href='help.html'">
                        <i class="fas fa-question-circle"></i>
                        <span>Ayuda</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-question-circle"></i>
                        <span>Centro de ayuda</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-comment"></i>
                        <span>Contactar soporte</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>

            <!-- Cerrar sesión -->
            <div class="settings-section">
                <div class="settings-list">
                    <div class="settings-item logout-item">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Cerrar sesión</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="user-settings-footer">
            <button class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                Cerrar sesión
            </button>
        </div>
    </div>

    <!-- Overlay para cerrar ajustes -->
    <div class="settings-overlay" id="settingsOverlay"></div>

    <!-- Contenido Principal -->
    <main class="main-content">
        <!-- Hero de la Playlist -->
        <section class="playlist-hero">
            <div class="playlist-hero-content">
                <div class="playlist-image">
                    <img src="images/p1.png" alt="Mi Playlist Personal">
                </div>
                <div class="playlist-info">
                    <div class="playlist-type">Playlist</div>
                    <h1 class="playlist-title">Mi Playlist Personal</h1>
                    <p class="playlist-description">Playlist para programar como un pro 💻</p>
                    <div class="playlist-meta">
                        <span class="playlist-creator">Creada por Ariel Vincennao • 2025</span>
                        <span class="playlist-stats">• 8 canciones • 2h 15min • 1.2M visualizaciones</span>
                    </div>
                    <div class="playlist-rating">
                        <div class="rating-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span class="rating-text">5.0 (892 calificaciones)</span>
                    </div>
                    <div class="playlist-actions">
                        <button class="play-btn-large">
                            <i class="fas fa-play"></i>
                        </button>
                        <button class="action-btn-large" title="Invitar colaboradores">
                            <i class="fas fa-user-plus"></i>
                        </button>
                        <button class="action-btn-large">
                            <i class="fas fa-share"></i>
                        </button>
                        <div class="context-menu-container">
                            <button class="context-menu-btn" title="Más opciones">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                            <div class="context-menu">
                                <button class="context-menu-item">
                                    <i class="fas fa-user-plus"></i>
                                    <span>Invitar colaborador</span>
                                </button>
                                <button class="context-menu-item">
                                    <i class="fas fa-share"></i>
                                    <span>Compartir</span>
                                </button>
                                <button class="context-menu-item">
                                    <i class="fas fa-edit"></i>
                                    <span>Editar datos</span>
                                </button>
                                <button class="context-menu-item">
                                    <i class="fas fa-plus"></i>
                                    <span>Agregar canciones</span>
                                </button>
                                <button class="context-menu-item danger">
                                    <i class="fas fa-trash"></i>
                                    <span>Eliminar playlist</span>
                                </button>
                                <button class="context-menu-item">
                                    <i class="fas fa-flag"></i>
                                    <span>Reportar un problema</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lista de Canciones -->
        <section class="songs-section">
            <div class="songs-header">
                <h2>Canciones</h2>
                <div class="songs-controls">
                </div>
            </div>
            
            <div class="songs-list">
                <!-- Encabezado de la tabla -->
                <div class="song-header">
                    <div class="song-header-number">#</div>
                    <div class="song-header-info">TÍTULO</div>
                    <div class="song-header-album">ÁLBUM</div>
                    <div class="song-header-date">FECHA AGREGADA</div>
                    <div class="song-header-duration">DURACIÓN</div>
                    <div class="song-header-actions"></div>
                </div>
                
                <!-- Canción 1 -->
                <div class="song-item">
                    <div class="song-number">1</div>
                    <div class="song-info">
                        <div class="song-image">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="song-details">
                            <h4 class="song-title">Thunderstruck</h4>
                            <p class="song-artist">AC/DC</p>
                        </div>
                    </div>
                    <div class="song-album">The Razors Edge</div>
                    <div class="song-date">Hace 2 días</div>
                    <div class="song-duration">4:52</div>
                    <div class="song-actions">
                        <button class="song-action-btn" title="Agregar a Mi Biblioteca">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="song-action-btn context-menu-btn" data-song-id="1">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                </div>

                <!-- Canción 2 -->
                <div class="song-item">
                    <div class="song-number">2</div>
                    <div class="song-info">
                        <div class="song-image">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="song-details">
                            <h4 class="song-title">Another Brick in the Wall</h4>
                            <p class="song-artist">Pink Floyd</p>
                        </div>
                    </div>
                    <div class="song-album">The Wall</div>
                    <div class="song-date">Hace 1 semana</div>
                    <div class="song-duration">3:59</div>
                    <div class="song-actions">
                        <button class="song-action-btn" title="Agregar a Mi Biblioteca">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="song-action-btn context-menu-btn" data-song-id="2">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                </div>

                <!-- Canción 3 -->
                <div class="song-item">
                    <div class="song-number">3</div>
                    <div class="song-info">
                        <div class="song-image">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="song-details">
                            <h4 class="song-title">Stairway to Heaven</h4>
                            <p class="song-artist">Led Zeppelin</p>
                        </div>
                    </div>
                    <div class="song-album">Led Zeppelin IV</div>
                    <div class="song-date">Hace 3 días</div>
                    <div class="song-duration">8:02</div>
                    <div class="song-actions">
                        <button class="song-action-btn" title="Agregar a Mi Biblioteca">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="song-action-btn context-menu-btn" data-song-id="3">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                </div>

                <!-- Canción 4 -->
                <div class="song-item">
                    <div class="song-number">4</div>
                    <div class="song-info">
                        <div class="song-image">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="song-details">
                            <h4 class="song-title">Bohemian Rhapsody</h4>
                            <p class="song-artist">Queen</p>
                        </div>
                    </div>
                    <div class="song-album">A Night at the Opera</div>
                    <div class="song-date">Hace 5 días</div>
                    <div class="song-duration">5:55</div>
                    <div class="song-actions">
                        <button class="song-action-btn" title="Agregar a Mi Biblioteca">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="song-action-btn context-menu-btn" data-song-id="4">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                </div>

                <!-- Canción 5 -->
                <div class="song-item">
                    <div class="song-number">5</div>
                    <div class="song-info">
                        <div class="song-image">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="song-details">
                            <h4 class="song-title">Hotel California</h4>
                            <p class="song-artist">Eagles</p>
                        </div>
                    </div>
                    <div class="song-album">Hotel California</div>
                    <div class="song-date">Hace 1 semana</div>
                    <div class="song-duration">6:30</div>
                    <div class="song-actions">
                        <button class="song-action-btn" title="Agregar a Mi Biblioteca">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="song-action-btn context-menu-btn" data-song-id="5">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                </div>

                <!-- Canción 6 -->
                <div class="song-item">
                    <div class="song-number">6</div>
                    <div class="song-info">
                        <div class="song-image">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="song-details">
                            <h4 class="song-title">Sweet Child O' Mine</h4>
                            <p class="song-artist">Guns N' Roses</p>
                        </div>
                    </div>
                    <div class="song-album">Appetite for Destruction</div>
                    <div class="song-date">Hace 2 semanas</div>
                    <div class="song-duration">5:56</div>
                    <div class="song-actions">
                        <button class="song-action-btn" title="Agregar a Mi Biblioteca">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="song-action-btn context-menu-btn" data-song-id="6">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                </div>

                <!-- Canción 7 -->
                <div class="song-item">
                    <div class="song-number">7</div>
                    <div class="song-info">
                        <div class="song-image">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="song-details">
                            <h4 class="song-title">Don't Stop Believin'</h4>
                            <p class="song-artist">Journey</p>
                        </div>
                    </div>
                    <div class="song-album">Escape</div>
                    <div class="song-date">Hace 4 días</div>
                    <div class="song-duration">4:10</div>
                    <div class="song-actions">
                        <button class="song-action-btn" title="Agregar a Mi Biblioteca">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="song-action-btn context-menu-btn" data-song-id="7">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                </div>

                <!-- Canción 8 -->
                <div class="song-item">
                    <div class="song-number">8</div>
                    <div class="song-info">
                        <div class="song-image">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="song-details">
                            <h4 class="song-title">Livin' on a Prayer</h4>
                            <p class="song-artist">Bon Jovi</p>
                        </div>
                    </div>
                    <div class="song-album">Slippery When Wet</div>
                    <div class="song-date">Hace 6 días</div>
                    <div class="song-duration">4:09</div>
                    <div class="song-actions">
                        <button class="song-action-btn" title="Agregar a Mi Biblioteca">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="song-action-btn context-menu-btn" data-song-id="8">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Player Fijo -->
    <div class="player">
        <div class="player-info">
            <div class="player-image">
                <i class="fas fa-music"></i>
            </div>
            <div class="player-details">
                <h4>Canción Actual</h4>
                <p>Artista - Álbum</p>
            </div>
            <div class="player-actions">
                <button class="action-btn add-to-playlist-btn" title="Agregar a playlist">
                    <i class="fas fa-plus"></i>
                </button>
                <button class="action-btn context-menu-btn" title="Más opciones">
                    <i class="fas fa-ellipsis-h"></i>
                </button>
            </div>
        </div>

        <div class="player-controls">
            <div class="progress-container">
                <div class="time-display">
                    <span class="current-time">0:00</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <div class="time-display">
                    <span class="total-time">0:00</span>
                </div>
            </div>
            <div class="control-buttons">
                <button class="control-btn">
                    <i class="fas fa-step-backward"></i>
                </button>
                <button class="play-pause-btn">
                    <i class="fas fa-play"></i>
                </button>
                <button class="control-btn">
                    <i class="fas fa-step-forward"></i>
                </button>
                <button class="control-btn">
                    <i class="fas fa-redo"></i>
                </button>
            </div>
        </div>

        <div class="volume-control">
            <button class="control-btn">
                <i class="fas fa-volume-up"></i>
            </button>
            <div class="volume-slider">
                <div class="volume-fill"></div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmación de Eliminación -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Eliminar Playlist</h3>
                <button class="close-modal-btn" id="closeDeleteModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-content">
                <p>¿Estás seguro de que quieres eliminar "Mi Playlist Personal"?</p>
                <p class="modal-warning">Esta acción no se puede deshacer.</p>
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" id="cancelDelete">Cancelar</button>
                <button class="btn-danger" id="confirmDelete">Eliminar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Edición de Playlist -->
    <div class="modal-overlay" id="editModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Editar Playlist</h3>
                <button class="close-modal-btn" id="closeEditModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-content">
                <div class="form-group">
                    <label for="playlistName">Nombre de la playlist:</label>
                    <input type="text" id="playlistName" value="Mi Playlist Personal" class="form-input">
                </div>
                <div class="form-group">
                    <label for="playlistDescription">Descripción:</label>
                    <textarea id="playlistDescription" class="form-textarea" rows="3">Por AC/DC, Pink Floyd, Led Zeppelin y más...</textarea>
                </div>
                <div class="form-group">
                    <label for="playlistPrivacy">Privacidad:</label>
                    <select id="playlistPrivacy" class="form-select">
                        <option value="public">Pública</option>
                        <option value="private">Privada</option>
                    </select>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" id="cancelEdit">Cancelar</button>
                <button class="btn-primary" id="saveEdit">Guardar cambios</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Funcionalidad específica para Mi Playlist
        document.addEventListener('DOMContentLoaded', function() {
            // Modal de eliminación
            const deleteModal = document.getElementById('deleteModal');
            const closeDeleteModal = document.getElementById('closeDeleteModal');
            const cancelDelete = document.getElementById('cancelDelete');
            const confirmDelete = document.getElementById('confirmDelete');
            const deletePlaylistBtn = document.querySelector('.delete-playlist-btn');
            const contextDeleteBtn = document.querySelector('.delete-option');

            // Modal de edición
            const editModal = document.getElementById('editModal');
            const closeEditModal = document.getElementById('closeEditModal');
            const cancelEdit = document.getElementById('cancelEdit');
            const saveEdit = document.getElementById('saveEdit');
            const editPlaylistBtn = document.querySelector('.edit-playlist-btn');

            // Abrir modal de eliminación
            function openDeleteModal() {
                deleteModal.style.display = 'flex';
            }

            // Cerrar modal de eliminación
            function closeDeleteModalFunc() {
                deleteModal.style.display = 'none';
            }

            // Abrir modal de edición
            function openEditModal() {
                editModal.style.display = 'flex';
            }

            // Cerrar modal de edición
            function closeEditModalFunc() {
                editModal.style.display = 'none';
            }

            // Event listeners para eliminación
            deletePlaylistBtn.addEventListener('click', openDeleteModal);
            contextDeleteBtn.addEventListener('click', openDeleteModal);
            closeDeleteModal.addEventListener('click', closeDeleteModalFunc);
            cancelDelete.addEventListener('click', closeDeleteModalFunc);

            // Event listeners para edición
            editPlaylistBtn.addEventListener('click', openEditModal);
            closeEditModal.addEventListener('click', closeEditModalFunc);
            cancelEdit.addEventListener('click', closeEditModalFunc);

            // Confirmar eliminación
            confirmDelete.addEventListener('click', function() {
                // Aquí iría la lógica para eliminar la playlist
                alert('Playlist eliminada correctamente');
                closeDeleteModalFunc();
                // Redirigir a la biblioteca o página principal
                window.location.href = 'index.html';
            });

            // Guardar edición
            saveEdit.addEventListener('click', function() {
                const newName = document.getElementById('playlistName').value;
                const newDescription = document.getElementById('playlistDescription').value;
                const newPrivacy = document.getElementById('playlistPrivacy').value;
                
                // Aquí iría la lógica para guardar los cambios
                alert('Playlist actualizada correctamente');
                closeEditModalFunc();
                
                // Actualizar el título en la página
                document.querySelector('.playlist-title').textContent = newName;
                document.querySelector('.playlist-description').textContent = newDescription;
            });

            // Cerrar modales al hacer clic en el overlay
            deleteModal.addEventListener('click', function(e) {
                if (e.target === deleteModal) {
                    closeDeleteModalFunc();
                }
            });

            editModal.addEventListener('click', function(e) {
                if (e.target === editModal) {
                    closeEditModalFunc();
                }
            });

            // Botones de eliminar canción individual
            const removeButtons = document.querySelectorAll('.song-remove-btn');
            removeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const songItem = this.closest('.song-item');
                    if (confirm('¿Eliminar esta canción de la playlist?')) {
                        songItem.remove();
                        // Actualizar números de canción
                        updateSongNumbers();
                    }
                });
            });

            // Función para actualizar números de canción
            function updateSongNumbers() {
                const songItems = document.querySelectorAll('.song-item');
                songItems.forEach((item, index) => {
                    const numberElement = item.querySelector('.song-number');
                    numberElement.textContent = index + 1;
                });
            }

            // Funcionalidad específica para menús contextuales de playlist
            function initContextMenus() {
                const playlistContextButtons = document.querySelectorAll('.context-menu-btn');
                console.log('Botones encontrados:', playlistContextButtons.length);
                
                playlistContextButtons.forEach((btn, index) => {
                    console.log(`Configurando botón ${index + 1}:`, btn);
                    
                    // Remover listeners existentes
                    btn.removeEventListener('click', handleContextMenuClick);
                    
                    // Agregar nuevo listener
                    btn.addEventListener('click', handleContextMenuClick);
                });
            }
            
            function handleContextMenuClick(e) {
                console.log('Botón clickeado:', this);
                e.preventDefault();
                e.stopPropagation();
                
                // Buscar el menú contextual asociado
                const container = this.closest('.context-menu-container');
                const menu = container ? container.querySelector('.context-menu') : null;
                
                console.log('Container:', container);
                console.log('Menú:', menu);
                
                if (menu) {
                    console.log('Menú encontrado, toggleando...');
                    
                    // Cerrar otros menús
                    document.querySelectorAll('.context-menu').forEach(otherMenu => {
                        if (otherMenu !== menu) {
                            otherMenu.classList.remove('show');
                            otherMenu.style.opacity = '0';
                            otherMenu.style.visibility = 'hidden';
                            otherMenu.style.transform = 'translateY(10px)';
                        }
                    });
                    
                    // Toggle del menú actual
                    const isVisible = menu.classList.contains('show');
                    if (isVisible) {
                        menu.classList.remove('show');
                        menu.style.opacity = '0';
                        menu.style.visibility = 'hidden';
                        menu.style.transform = 'translateY(10px)';
                    } else {
                        menu.classList.add('show');
                        menu.style.opacity = '1';
                        menu.style.visibility = 'visible';
                        menu.style.transform = 'translateY(0)';
                    }
                    console.log('Clase show aplicada:', menu.classList.contains('show'));
                } else {
                    console.log('No se encontró menú contextual');
                }
            }
            
            // Inicializar menús contextuales
            initContextMenus();

            // Cerrar menús al hacer clic fuera
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.context-menu-container') && !e.target.closest('.context-menu-btn') && !e.target.closest('.context-menu')) {
                    document.querySelectorAll('.context-menu').forEach(menu => {
                        menu.style.opacity = '0';
                        menu.style.visibility = 'hidden';
                        menu.style.transform = 'translateY(10px)';
                        menu.classList.remove('show');
                    });
                }
            });
        });
    </script>

    <!-- Menú Contextual Global -->
    <div class="context-menu" id="contextMenu">
        <div class="context-menu-item" onclick="addToFavorites()">
            <i class="fas fa-plus"></i>
            <span>Agregar a Canciones que te gustan</span>
        </div>
        <div class="context-menu-item" onclick="shareSong()">
            <i class="fas fa-share"></i>
            <span>Compartir</span>
        </div>
        <div class="context-menu-item" onclick="downloadSong()">
            <i class="fas fa-download"></i>
            <span>Descargar</span>
        </div>
    </div>
</body>
</html>
