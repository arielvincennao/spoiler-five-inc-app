<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados de búsqueda - Spoiler Five</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Estilos específicos para el sidebar en search-results.html */
        .sidebar-item:hover .sidebar-item-title {
            color: #2a9d8a !important;
        }
        
        .sidebar-item:hover .sidebar-item-subtitle {
            color: #2a9d8a !important;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <i class="fas fa-music"></i>
            Spoiler Five Inc.
        </div>
        
        <div class="search-section">
            <button class="home-btn" id="homeBtn" title="Inicio">
                <i class="fas fa-home"></i>
            </button>
            
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="searchInput" class="search-bar" placeholder="¿Qué vas a escuchar hoy?">
            </div>
        </div>
        
        <div class="header-actions">
            <button class="hamburger-btn" id="hamburgerBtn" title="Abrir biblioteca">
                <i class="fas fa-book"></i>
            </button>
            <button class="notification-btn" id="notificationBtn" title="Ver notificaciones">
                <i class="fas fa-bell"></i>
            </button>
            <button class="user-btn" id="userBtn" title="Abrir menú de usuario">
                <i class="fas fa-user"></i>
            </button>
        </div>
    </header>

    <!-- Panel Lateral -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Mi Biblioteca</h3>
            <button class="close-sidebar-btn" id="closeSidebarBtn" title="Cerrar biblioteca">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="sidebar-content">
            <!-- Búsqueda en Biblioteca -->
            <div class="library-search">
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="librarySearchInput" class="library-search-bar" placeholder="Buscar en tu biblioteca">
                </div>
            </div>

            <!-- Filtros de Biblioteca -->
            <div class="library-filters">
                <div class="filter-group">
                    <label class="filter-label">Tipo:</label>
                    <select class="library-filter-select" id="libraryTypeFilter">
                        <option value="all">Todos</option>
                        <option value="playlists">Playlists</option>
                        <option value="albums">Albums</option>
                        <option value="podcasts">Podcasts</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Ordenar:</label>
                    <select class="library-filter-select" id="librarySortFilter">
                        <option value="recent">Recientes</option>
                        <option value="alphabetical">A-Z</option>
                        <option value="artist">Por artista</option>
                        <option value="date">Por fecha</option>
                    </select>
                </div>
            </div>


            <!-- Lista de Contenido -->
            <div class="sidebar-section">
                <button class="create-playlist-btn">
                    <i class="fas fa-plus"></i>
                    Crear playlist
                </button>
                <div class="sidebar-list">
                    <!-- Playlists -->
                    <div class="sidebar-item pinned-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">
                                <span class="pinned-indicator">
                                    <i class="fas fa-thumbtack"></i>
                                </span>
                                Canciones que te gustan
                            </span>
                            <span class="sidebar-item-subtitle">Playlist · Ariel Vincennao</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <img src="images/p1.png" alt="Hora de Gym">
                        </div>
                        <a href="my-playlist.html" style="text-decoration: none;">
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Mi Playlist Personal</span>
                            <span class="sidebar-item-subtitle">Playlist · Ariel Vincennao</span>
                        </div>
                        </a>
                    </div>
                    
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <img src="images/p2.png" alt="Rock Clásico">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Rock Clásico</span>
                            <span class="sidebar-item-subtitle">Playlist · Ariel Vincennao</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <img src="images/p3.png" alt="Energía Total">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Energía Total</span>
                            <span class="sidebar-item-subtitle">Playlist · Ariel Vincennao</span>
                        </div>
                    </div>

                    <!-- Álbumes -->
                    <div class="sidebar-item" data-type="album">
                        <div class="sidebar-item-icon">
                            <img src="images/p7.png" alt="The Razors Edge">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">The Razors Edge</span>
                            <span class="sidebar-item-subtitle">Album · AC/DC</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-item" data-type="album">
                        <div class="sidebar-item-icon">
                            <img src="images/p8.png" alt="The Wall">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">The Wall</span>
                            <span class="sidebar-item-subtitle">Album · Pink Floyd</span>
                        </div>
                    </div>

                    <!-- Podcasts -->
                    <div class="sidebar-item" data-type="podcast">
                        <div class="sidebar-item-icon">
                            <img src="images/p9.png" alt="Música y Más">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Música y Más</span>
                            <span class="sidebar-item-subtitle">Podcast · Ariel Vincennao</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-item" data-type="podcast">
                        <div class="sidebar-item-icon">
                            <img src="images/p10.png" alt="Rock Clásico Podcast">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Rock Clásico Podcast</span>
                            <span class="sidebar-item-subtitle">Playlist · Ariel Vincennao</span>
                        </div>
                    </div>

                    <!-- Más Playlists -->
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <img src="images/p4.png" alt="Relajación Nocturna">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Relajación Nocturna</span>
                            <span class="sidebar-item-subtitle">Podcast · Ariel Vincennao</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <img src="images/p5.png" alt="Viaje en Carretera">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Viaje en Carretera</span>
                            <span class="sidebar-item-subtitle">Playlist · Ariel Vincennao</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-item" data-type="playlist">
                        <div class="sidebar-item-icon">
                            <img src="images/p6.png" alt="Éxitos de los 80s">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Éxitos de los 80s</span>
                            <span class="sidebar-item-subtitle">Playlist · Ariel Vincennao</span>
                        </div>
                    </div>

                    <!-- Más Álbumes -->
                    <div class="sidebar-item" data-type="album">
                        <div class="sidebar-item-icon">
                            <img src="images/p11.png" alt="Dark Side of the Moon">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Dark Side of the Moon</span>
                            <span class="sidebar-item-subtitle">Album · Pink Floyd</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-item" data-type="album">
                        <div class="sidebar-item-icon">
                            <img src="images/p12.png" alt="Back in Black">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Back in Black</span>
                            <span class="sidebar-item-subtitle">Album · AC/DC</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-item" data-type="album">
                        <div class="sidebar-item-icon">
                            <img src="images/p13.png" alt="Led Zeppelin IV">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Led Zeppelin IV</span>
                            <span class="sidebar-item-subtitle">Album · Led Zeppelin</span>
                        </div>
                    </div>

                    <!-- Más Podcasts -->
                    <div class="sidebar-item" data-type="podcast">
                        <div class="sidebar-item-icon">
                            <img src="images/p14.png" alt="Historia del Rock">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Historia del Rock</span>
                            <span class="sidebar-item-subtitle">Playlist · Ariel Vincennao</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-item" data-type="podcast">
                        <div class="sidebar-item-icon">
                            <img src="images/p15.png" alt="Música Indie">
                        </div>
                        <div class="sidebar-item-info">
                            <span class="sidebar-item-title">Música Indie</span>
                            <span class="sidebar-item-subtitle">Podcast · Ariel Vincennao</span>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Overlay para cerrar el panel -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Panel de Notificaciones -->
    <div class="notifications-panel" id="notificationsPanel">
        <div class="notifications-header">
            <h3>Notificaciones</h3>
            <button class="close-notifications-btn" id="closeNotificationsBtn" title="Cerrar notificaciones">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="notifications-content">
            <div class="notification-item">
                <div class="notification-icon">
                    <i class="fas fa-music"></i>
                </div>
                <div class="notification-info">
                    <h4 class="notification-title">Nueva canción disponible</h4>
                    <p class="notification-text">"Thunderstruck" de AC/DC ya está disponible en tu biblioteca</p>
                    <span class="notification-time">Hace 2 horas</span>
                </div>
            </div>

            <div class="notification-item">
                <div class="notification-icon">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="notification-info">
                    <h4 class="notification-title">Playlist actualizada</h4>
                    <p class="notification-text">Tu playlist "Hora de Gym" se ha actualizado con 3 nuevas canciones</p>
                    <span class="notification-time">Hace 5 horas</span>
                </div>
            </div>

            <div class="notification-item">
                <div class="notification-icon">
                    <i class="fas fa-user"></i>
                </div>
                <div class="notification-info">
                    <h4 class="notification-title">Artista seguido</h4>
                    <p class="notification-text">Pink Floyd ha lanzado un nuevo álbum: "The Wall (Remastered)"</p>
                    <span class="notification-time">Ayer</span>
                </div>
            </div>

            <div class="notification-item">
                <div class="notification-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="notification-info">
                    <h4 class="notification-title">Recomendación personalizada</h4>
                    <p class="notification-text">Basado en tu historial, te recomendamos "Bohemian Rhapsody"</p>
                    <span class="notification-time">Hace 1 día</span>
                </div>
            </div>

            <div class="notification-item">
                <div class="notification-icon">
                    <i class="fas fa-download"></i>
                </div>
                <div class="notification-info">
                    <h4 class="notification-title">Descarga completada</h4>
                    <p class="notification-text">"Stairway to Heaven" se ha descargado correctamente</p>
                    <span class="notification-time">Hace 2 días</span>
                </div>
            </div>
        </div>

        <div class="notifications-footer">
            <button class="view-all-btn" title="Ver todas las notificaciones">
                <i class="fas fa-list"></i>
                Ver todas las notificaciones
            </button>
        </div>
    </div>

    <!-- Overlay para cerrar notificaciones -->
    <div class="notifications-overlay" id="notificationsOverlay"></div>

    <!-- Panel de Ajustes de Usuario -->
    <div class="user-settings-panel" id="userSettingsPanel">
        <div class="user-settings-header">
            <div class="user-profile">
                <div class="user-avatar">
                    <img src="images/avatar.png" alt="Avatar" class="user-avatar-img">
                </div>
                <div class="user-info">
                    <h3>Ariel Vincennao</h3>
                    <p>Plan Premium</p>
                </div>
            </div>
            <button class="close-settings-btn" id="closeSettingsBtn" title="Cerrar menú de usuario">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="user-settings-content">
            <!-- Perfil -->
            <div class="settings-section">
                <h4 class="settings-section-title">
                    <i class="fas fa-user"></i>
                    Perfil
                </h4>
                <div class="settings-list">
                    <div class="settings-item" onclick="window.location.href='my-account.html'">
                        <i class="fas fa-user-edit"></i>
                        <span>Mi cuenta</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-user-friends"></i>
                        <span>Amigos</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-cog"></i>
                        <span>Ajustes</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>

            <!-- Suscripción -->
            <div class="settings-section">
                <h4 class="settings-section-title">
                    <i class="fas fa-crown"></i>
                    Suscripción
                </h4>
                <div class="settings-list">
                    <div class="settings-item" onclick="window.location.href='plans.html'">
                        <i class="fas fa-star"></i>
                        <span>Plan</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-credit-card"></i>
                        <span>Método de pago</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-receipt"></i>
                        <span>Facturación</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>

            <!-- Privacidad -->
            <div class="settings-section">
                <h4 class="settings-section-title">
                    <i class="fas fa-shield-alt"></i>
                    Privacidad
                </h4>
                <div class="settings-list">
                    <div class="settings-item">
                        <i class="fas fa-lock"></i>
                        <span>Privacidad</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-eye"></i>
                        <span>Actividad</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>

            <!-- Soporte -->
            <div class="settings-section">
                <h4 class="settings-section-title">
                    <i class="fas fa-question-circle"></i>
                    Soporte
                </h4>
                <div class="settings-list">
                    <div class="settings-item">
                        <i class="fas fa-headset"></i>
                        <span>Ayuda</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-comment"></i>
                        <span>Contacto</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="settings-item">
                        <i class="fas fa-info-circle"></i>
                        <span>Acerca de</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="user-settings-footer">
            <button class="logout-btn" title="Cerrar sesión">
                <i class="fas fa-sign-out-alt"></i>
                Cerrar sesión
            </button>
        </div>
    </div>

    <!-- Overlay para cerrar ajustes -->
    <div class="settings-overlay" id="settingsOverlay"></div>

    <!-- Contenido Principal -->
    <main class="main-content">
        <!-- Resultados de Búsqueda -->
        <section class="search-results-section">
            <div class="search-results-header">
                <h1 id="searchTitle">Resultados para "<span id="searchTerm"></span>"</h1>
                <p id="resultsCount" class="results-count">Encontrados 0 resultados</p>
            </div>


            <!-- Filtros Rápidos con Chips -->
            <div class="quick-filters">
                <div class="filter-chips">
                    <button class="filter-chip active" data-filter="all">
                        <i class="fas fa-music"></i>
                        <span>Todos</span>
                    </button>
                    <button class="filter-chip" data-filter="rock">
                        <i class="fas fa-guitar"></i>
                        <span>Rock</span>
                    </button>
                    <button class="filter-chip" data-filter="pop">
                        <i class="fas fa-star"></i>
                        <span>Pop</span>
                    </button>
                    <button class="filter-chip" data-filter="trap">
                        <i class="fas fa-fire"></i>
                        <span>Trap</span>
                    </button>
                    <button class="filter-chip" data-filter="latest">
                        <i class="fas fa-clock"></i>
                        <span>Lo último</span>
                    </button>
                </div>
                
                <div class="sort-options">
                    <label class="sort-label">Ordenar:</label>
                    <select class="sort-select" id="sortFilter">
                        <option value="popularity">Popularidad</option>
                        <option value="relevance">Relevancia</option>
                        <option value="newest">Más reciente</option>
                        <option value="oldest">Más antiguo</option>
                        <option value="alphabetical">A-Z</option>
                        <option value="duration">Duración</option>
                    </select>
                </div>
            </div>

            <!-- Resultados -->
            <div class="search-results-content">
                <!-- Canciones -->
                <div class="results-section" id="songs-results">
                    <h2 class="results-section-title">Canciones</h2>
                    <div class="songs-list">
                         <div class="song-item search-song-item">
                             <div class="song-number">1</div>
                             <div class="song-info">
                                 <div class="song-image search-song-image">
                                     <img src="images/c1.jpg" alt="Thunderstruck" class="search-song-cover">
                                     <button class="search-play-btn" title="Reproducir">
                                         <i class="fas fa-play"></i>
                                     </button>
                                 </div>
                                 <div class="song-details">
                                     <h3 class="song-title">Thunderstruck</h3>
                                     <p class="song-artist">AC/DC</p>
                                 </div>
                             </div>
                             <div class="song-duration">4:52</div>
                             <div class="song-actions">
                                 <button class="song-action-btn" title="Agregar a Mi Biblioteca">
                                     <i class="fas fa-plus"></i>
                                 </button>
                                 <button class="song-action-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                     <i class="fas fa-ellipsis-h"></i>
                                 </button>
                             </div>
                         </div>

                         <div class="song-item search-song-item">
                             <div class="song-number">2</div>
                             <div class="song-info">
                                 <div class="song-image search-song-image">
                                     <img src="images/c2.png" alt="Another Brick in the Wall, Pt. 2" class="search-song-cover">
                                     <button class="search-play-btn" title="Reproducir">
                                         <i class="fas fa-play"></i>
                                     </button>
                                 </div>
                                 <div class="song-details">
                                     <h3 class="song-title">Another Brick in the Wall, Pt. 2</h3>
                                     <p class="song-artist">Pink Floyd</p>
                                 </div>
                             </div>
                             <div class="song-duration">3:59</div>
                             <div class="song-actions">
                                 <button class="song-action-btn" title="Agregar a Mi Biblioteca">
                                     <i class="fas fa-plus"></i>
                                 </button>
                                 <button class="song-action-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                     <i class="fas fa-ellipsis-h"></i>
                                 </button>
                             </div>
                         </div>
                    </div>
                </div>


                <!-- Playlists -->
                <div class="results-section has-more" id="playlists-results">
                    <h2 class="results-section-title">Playlists</h2>
                    <div class="playlists-grid">
                        <div class="content-card">
                            <div class="card-image">
                                <img src="images/p23.png" alt="Mi Playlist de Deporte">
                            </div>
                            <h3 class="card-title">Hora de Gym</h3>
                            <p class="card-subtitle">Playlist · Por Juan Cruz López</p>
                            <div class="card-actions">
                                <button class="play-btn" title="Reproducir">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="action-buttons-group">
                                    <button class="action-btn" title="Agregar a Mi Biblioteca">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="context-menu-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="content-card">
                            <div class="card-image">
                                <img src="images/p5.png" alt="Rock Clásico">
                            </div>
                            <h3 class="card-title">Rock Clásico</h3>
                            <p class="card-subtitle">Playlist · Por The Rolling Stones, Aerosmith, Jimi Hendrix y más...</p>
                            <div class="card-actions">
                                <button class="play-btn" title="Reproducir">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="action-buttons-group">
                                    <button class="action-btn" title="Agregar a Mi Biblioteca">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="context-menu-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="content-card">
                            <div class="card-image">
                                <img src="images/p9.png" alt="Cuarteto Cordobés">
                            </div>
                            <h3 class="card-title">Cuarteto Cordobés</h3>
                            <p class="card-subtitle">Playlist · Por Candela Fastillo</p>
                            <div class="card-actions">
                                <button class="play-btn" title="Reproducir">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="action-buttons-group">
                                    <button class="action-btn" title="Agregar a Mi Biblioteca">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="context-menu-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="content-card">
                            <div class="card-image">
                                <img src="images/p11.png" alt="Italian Deep House">
                            </div>
                            <h3 class="card-title">Italian Deep House 🇮🇹</h3>
                            <p class="card-subtitle">Playlist · Por Matt Bianco</p>
                            <div class="card-actions">
                                <button class="play-btn" title="Reproducir">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="action-buttons-group">
                                    <button class="action-btn" title="Agregar a Mi Biblioteca">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="context-menu-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="content-card">
                            <div class="card-image">
                                <img src="images/p5.png" alt="Rock Clásico">
                            </div>
                            <h3 class="card-title">Rock Clásico</h3>
                            <p class="card-subtitle">Playlist · Por The Rolling Stones, Aerosmith, Jimi Hendrix y más...</p>
                            <div class="card-actions">
                                <button class="play-btn" title="Reproducir">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="action-buttons-group">
                                    <button class="action-btn" title="Agregar a Mi Biblioteca">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="context-menu-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="content-card">
                            <div class="card-image">
                                <img src="images/p13.png" alt="Rock tranqui">
                            </div>
                            <h3 class="card-title">Rock Tranqui</h3>
                            <p class="card-subtitle">Playlist · Por Flor Maggiori</p>
                            <div class="card-actions">
                                <button class="play-btn" title="Reproducir">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="action-buttons-group">
                                    <button class="action-btn" title="Agregar a Mi Biblioteca">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="context-menu-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="content-card">
                            <div class="card-image">
                                <img src="images/p16.png" alt="Viaje en Carretera">
                            </div>
                            <h3 class="card-title">Viajamos? 🌏</h3>
                            <p class="card-subtitle">Playlist · Por Federico Carrión</p>
                            <div class="card-actions">
                                <button class="play-btn" title="Reproducir">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="action-buttons-group">
                                    <button class="action-btn" title="Agregar a Mi Biblioteca">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="context-menu-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="content-card">
                            <div class="card-image">
                                <img src="images/p17.png" alt="Correr">
                            </div>
                            <h3 class="card-title">Correr 🏃‍♂️</h3>
                            <p class="card-subtitle">Playlist · Por Spoiler Five</p>
                            <div class="card-actions">
                                <button class="play-btn" title="Reproducir">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="action-buttons-group">
                                    <button class="action-btn" title="Agregar a Mi Biblioteca">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="context-menu-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Álbumes -->
                <div class="results-section" id="albums-results">
                    <h2 class="results-section-title">Álbumes</h2>
                    <div class="albums-grid">
                        <div class="content-card">
                            <div class="card-image">
                                <img src="images/p3.png" alt="Álbum del Día">
                            </div>
                            <h3 class="card-title">My Head Is An Animal</h3>
                            <p class="card-subtitle">Álbum · Por Of Monsters and Men · 2011</p>
                            <div class="card-actions">
                                <button class="play-btn" title="Reproducir">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="action-buttons-group">
                                    <button class="action-btn" title="Agregar a Mi Biblioteca">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="context-menu-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="content-card">
                            <div class="card-image">
                                <img src="images/p7.png" alt="Midnight City">
                            </div>
                            <h3 class="card-title">Midnight City</h3>
                            <p class="card-subtitle">Álbum · Por M83 · 2018</p>
                            <div class="card-actions">
                                <button class="play-btn" title="Reproducir">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="action-buttons-group">
                                    <button class="action-btn" title="Agregar a Mi Biblioteca">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="context-menu-btn" title="Abrir menú contextual" onclick="showContextMenuAlert()">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Podcasts -->
                <div class="results-section" id="podcasts-results">
                    <h2 class="results-section-title">Podcasts</h2>
                    <div class="simple-no-results">
                        <p>No se encontraron podcasts</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Player Fijo -->
    <div class="player">
        <div class="player-info">
            <div class="player-image">
                <img src="images/p14.png" alt="Stricken">
            </div>
            <div class="player-details">
                <h4>Stricken</h4>
                <p>Por Disturbed</p>
            </div>
            <div class="player-actions">
                <button class="action-btn add-to-playlist-btn" title="Agregar a Mi Biblioteca">
                    <i class="fas fa-plus"></i>
                </button>
                <button class="action-btn context-menu-btn" title="Abrir menú contextual">
                    <i class="fas fa-ellipsis-h"></i>
                </button>
            </div>
        </div>

        <div class="player-controls">
            <div class="progress-container">
                <div class="time-display">
                    <span class="current-time">0:00</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <div class="time-display">
                    <span class="total-time">0:00</span>
                </div>
            </div>
            <div class="control-buttons">
                <button class="control-btn" title="Reproducción aleatoria">
                    <i class="fas fa-random"></i>
                </button>
                <button class="control-btn" title="Canción anterior">
                    <i class="fas fa-step-backward"></i>
                </button>
                <button class="play-pause-btn" title="Reproducir/Pausar">
                    <i class="fas fa-play"></i>
                </button>
                <button class="control-btn" title="Siguiente canción">
                    <i class="fas fa-step-forward"></i>
                </button>
                <button class="control-btn" title="Repetir">
                    <i class="fas fa-redo"></i>
                </button>
            </div>
        </div>

        <div class="volume-control">
            <button class="control-btn" title="Silenciar/Activar volumen">
                <i class="fas fa-volume-up"></i>
            </button>
            <div class="volume-slider">
                <div class="volume-fill"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Funcionalidad específica para la página de resultados
        document.addEventListener('DOMContentLoaded', function() {
            // Obtener el término de búsqueda de la URL
            const urlParams = new URLSearchParams(window.location.search);
            const searchTerm = urlParams.get('q') || '';
            
            // Actualizar la interfaz con el término de búsqueda
            const searchTermElement = document.getElementById('searchTerm');
            const searchInput = document.getElementById('searchInput');
            
            if (searchTermElement) {
                searchTermElement.textContent = searchTerm;
            }
            
            if (searchInput) {
                searchInput.value = searchTerm;
            }
            
            // Actualizar el contador de resultados
            const resultsCount = document.getElementById('resultsCount');
            if (resultsCount) {
                const totalResults = document.querySelectorAll('.song-item, .artist-card, .content-card').length;
                resultsCount.textContent = `Encontrados ${totalResults} resultados`;
            }
            
            // Funcionalidad de chips de filtros - DESHABILITADA
            const filterChips = document.querySelectorAll('.filter-chip');
            const resultSections = document.querySelectorAll('.results-section');
            
            filterChips.forEach(chip => {
                chip.addEventListener('click', function(e) {
                    // Prevenir cualquier acción
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // No hacer nada - funcionalidad deshabilitada
                    console.log('Chip clickeado pero funcionalidad deshabilitada:', this.getAttribute('data-filter'));
                });
            });
            
            // Funcionalidad de ordenamiento - DESHABILITADA
            const sortFilter = document.getElementById('sortFilter');
            if (sortFilter) {
                sortFilter.addEventListener('change', function(e) {
                    // Prevenir cualquier acción
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // No hacer nada - funcionalidad deshabilitada
                    console.log('Select de ordenamiento clickeado pero funcionalidad deshabilitada:', this.value);
                });
            }
            
            // Función para actualizar contador de resultados
            function updateResultsCount() {
                const resultsCount = document.getElementById('resultsCount');
                if (resultsCount) {
                    const visibleResults = document.querySelectorAll('.results-section[style*="block"], .results-section:not([style])').length;
                    const totalResults = document.querySelectorAll('.song-item, .content-card').length;
                    resultsCount.textContent = `Encontrados ${totalResults} resultados`;
                }
            }


            // Funcionalidad del panel lateral
            const hamburgerBtn = document.getElementById('hamburgerBtn');
            const sidebar = document.getElementById('sidebar');
            const closeSidebarBtn = document.getElementById('closeSidebarBtn');
            const sidebarOverlay = document.getElementById('sidebarOverlay');

            // Abrir panel lateral
            if (hamburgerBtn) {
                hamburgerBtn.addEventListener('click', function() {
                    sidebar.classList.add('open');
                    sidebarOverlay.classList.add('show');
                    document.body.style.overflow = 'hidden'; // Prevenir scroll del body
                });
            }

            // Cerrar panel lateral
            function closeSidebar() {
                sidebar.classList.remove('open');
                sidebarOverlay.classList.remove('show');
                document.body.style.overflow = 'auto'; // Restaurar scroll del body
            }

            if (closeSidebarBtn) {
                closeSidebarBtn.addEventListener('click', closeSidebar);
            }

            if (sidebarOverlay) {
                sidebarOverlay.addEventListener('click', closeSidebar);
            }

            // Cerrar con tecla Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && sidebar.classList.contains('open')) {
                    closeSidebar();
                }
            });

            // Asignar imágenes específicas a las canciones de búsqueda
            function assignSpecificImages() {
                const searchSongCovers = document.querySelectorAll('.search-song-cover');
                
                // Primera canción: c1.jpg
                if (searchSongCovers[0]) {
                    searchSongCovers[0].src = 'images/c1.jpg';
                }
                
                // Segunda canción: c2.png
                if (searchSongCovers[1]) {
                    searchSongCovers[1].src = 'images/c2.png';
                }
                
                // Para el resto de canciones (si las hay), usar imágenes aleatorias
                const availableImages = [
                    'images/p1.png', 'images/p2.png', 'images/p3.png', 'images/p4.png', 
                    'images/p5.png', 'images/p6.png', 'images/p7.png', 'images/p8.png',
                    'images/p9.png', 'images/p10.png', 'images/p11.png', 'images/p12.png',
                    'images/p13.png', 'images/p14.png', 'images/p15.png', 'images/p16.png',
                    'images/p17.png', 'images/p18.png', 'images/p19.png', 'images/p20.png',
                    'images/p21.png', 'images/p22.png'
                ];
                
                // Asignar imágenes aleatorias a partir de la tercera canción
                for (let i = 2; i < searchSongCovers.length; i++) {
                    const randomIndex = Math.floor(Math.random() * availableImages.length);
                    searchSongCovers[i].src = availableImages[randomIndex];
                }
            }
            
            // Asignar imágenes específicas al cargar la página
            assignSpecificImages();

            // Funcionalidad de botones de play en canciones de búsqueda
            const searchPlayButtons = document.querySelectorAll('.search-play-btn');
            searchPlayButtons.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Efecto visual del botón
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1.05)';
                    }, 150);
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 300);
                    
                    // Obtener información de la canción
                    const songItem = this.closest('.search-song-item');
                    const title = songItem.querySelector('.song-title').textContent;
                    const artist = songItem.querySelector('.song-artist').textContent;
                    const durationText = songItem.querySelector('.song-duration').textContent;
                    
                    // Actualizar estado del reproductor global
                    playerState.currentSong = title;
                    playerState.currentArtist = artist;
                    playerState.isPlaying = true;
                    playerState.currentTime = 0;
                    playerState.progress = 0;
                    playerState.startTime = null;
                    
                    // Convertir duración a segundos
                    const durationParts = durationText.split(':');
                    playerState.duration = parseInt(durationParts[0]) * 60 + parseInt(durationParts[1]);
                    
                    // Aplicar estado al reproductor
                    applyPlayerState();
                    
                    // Simular reproducción
                    setTimeout(() => {
                        alert(`Reproduciendo: ${title} - ${artist}`);
                    }, 200);
                });
            });

            // Funcionalidad para títulos de canciones (ver detalles)
            const searchSongTitles = document.querySelectorAll('.search-song-item .song-title');
            searchSongTitles.forEach(title => {
                title.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    const songItem = this.closest('.search-song-item');
                    const artist = songItem.querySelector('.song-artist').textContent;
                    
                    // Efecto visual
                    this.style.color = '#2a9d8a';
                    setTimeout(() => {
                        this.style.color = '';
                    }, 200);
                    
                    // Mostrar alert de detalles
                    setTimeout(() => {
                        alert(`Viendo detalles de: ${this.textContent} - ${artist}`);
                    }, 200);
                });
            });

        });
        
        // Funcionalidad específica del reproductor para search-results.html
        document.addEventListener('DOMContentLoaded', function() {
            // Variables para rastrear reproducciones
            let playCount = 0;
            let hasShownRatingAlert = false;
            
            // Función para verificar y mostrar alert de calificación
            function checkRatingAlert() {
                console.log('Verificando alert:', playerState.progress, hasShownRatingAlert);
                if (playerState.progress >= 80 && !hasShownRatingAlert) {
                    playCount++;
                    hasShownRatingAlert = true;
                    console.log('Mostrando alert de calificación');
                    
                    // Obtener el nombre real de la canción desde el reproductor
                    const playerDetails = document.querySelector('.player-details h4');
                    const currentSong = playerDetails ? playerDetails.textContent : 'esta canción';
                    const alertMessage = `Has escuchado "${currentSong}" 3 veces, ¿quieres dejar tu opinión?`;
                    
                    if (confirm(alertMessage)) {
                        // Redirigir a playlist-details.html con scroll a la sección de calificación
                        window.location.href = 'playlist-details.html#rating-section';
                    } else {
                        alert('No hay problema, puedes calificar más tarde si quieres. 😊');
                    }
                    
                    // NO resetear hasShownRatingAlert - que solo aparezca una vez por sesión
                } else {
                    console.log('No se muestra alert - progreso:', playerState.progress, 'hasShown:', hasShownRatingAlert);
                }
            }
            
            // Función para resetear el estado (para testing)
            window.resetRatingState = function() {
                hasShownRatingAlert = false;
                playCount = 0;
                console.log('Estado de calificación reseteado');
            };
            
            // Barra de progreso
            const progressBar = document.querySelector('.progress-bar');
            const progressFill = document.querySelector('.progress-fill');
            
            if (progressBar && progressFill) {
                let isDragging = false;
                
                // Función para actualizar la barra de progreso
                function updateProgress(e) {
                    const rect = progressBar.getBoundingClientRect();
                    const clickX = e.clientX - rect.left;
                    const percentage = Math.max(0, Math.min(100, (clickX / rect.width) * 100));
                    progressFill.style.width = percentage + '%';
                    
                    console.log('Actualizando progreso:', percentage);
                    
                    // Actualizar estado del reproductor
                    console.log('playerState.duration:', playerState.duration);
                    playerState.progress = percentage;
                    
                    if (playerState.duration > 0) {
                        playerState.currentTime = (playerState.progress / 100) * playerState.duration;
                        
                        const currentTimeDisplay = document.querySelector('.current-time');
                        if (currentTimeDisplay) {
                            currentTimeDisplay.textContent = secondsToTime(playerState.currentTime);
                        }
                    }
                    
                    // Verificar si se llegó al 80% y mostrar alert de calificación (independiente de la duración)
                    console.log('Verificando alert con progreso:', playerState.progress);
                    checkRatingAlert();
                }
                
                // Evento de clic
                progressBar.addEventListener('click', function(e) {
                    updateProgress(e);
                });
                
                // Eventos de arrastre
                progressBar.addEventListener('mousedown', function(e) {
                    isDragging = true;
                    updateProgress(e);
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (isDragging) {
                        updateProgress(e);
                    }
                });
                
                document.addEventListener('mouseup', function(e) {
                    if (isDragging) {
                        isDragging = false;
                        updateProgress(e);
                    }
                });
            }
        });

        // Función para mostrar alert de menú contextual
        window.showContextMenuAlert = function() {
            alert('Abriendo menu contextual');
        };

        // Agregar títulos a los botones de play en las imágenes
        function addPlayButtonTitles() {
            const songItems = document.querySelectorAll('.song-item');
            songItems.forEach(item => {
                const songImage = item.querySelector('.song-image');
                if (songImage) {
                    // Agregar atributo title al contenedor de la imagen
                    songImage.setAttribute('title', 'Reproducir');
                }
            });
        }

        // Ejecutar cuando el DOM esté listo
        addPlayButtonTitles();
    </script>
</body>
</html>
